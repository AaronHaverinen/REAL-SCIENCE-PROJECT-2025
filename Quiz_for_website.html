<!DOCTYPE html>
    <html lang="en">
    <head>
        <title>Quiz</title>
        <!-- Link to external CSS file-->
        <link rel="stylesheet" href="styles.css">
    </head>
    

    <body>
        <main class="quiz-container">
            <h1>Take a Quick Quiz</h1>
            <form id="QuizForm">
                <!--quetsiton-->
            </form>
            <div class="result" id="result"></div>
        </main>

        <script>
            const QuizData = [
                {
                    question: "What is the only category of animals that produces milk for their young?",
                    options: ["Birds (aves)","Arthropoda","Giant Barrel Sponge", "Mammals"],
                    correct: 3
                },
                {
                    question: "Which one of the following is not in the Phylum Chordata?",
                    options: ["Mammals","Cnidaria","Reptiles", "Frog"],
                    correct: 1
                },
                {
                    question: "Which phylum below is the largest?",
                    options: ["Reptiles","Annelida","Arthropoda", "Mammals"],
                    correct: 2
                },
                {
                    question: "How did Porifera get its name?",
                    options: ["Because of its pores","Because it's poor","A pauper without vocabulary named it", "Scientists were drunk"],
                    correct: 0
                },
                {
                    question: "What are annelida?",
                    options: ["Animals like worms","Things that die when exposed to too much sun","Crawly things", "All of the Above"],
                    correct: 3
                },
                {
                    question: "How did Porifera get its name?",
                    options: ["Because of its pores","Because it's poor","A pauper without vocabulary named it", "Scientists were drunk"],
                    correct: 0
                },
            ]

            const QuizForm = document.getElementById("QuizForm"); //Populate Quiz
            const resultEl = document.getElementById("result"); 
            let score = 0;

            QuizData.forEach((q, idx) => {
                const fieldset = document.createElement("fieldset");
                const legend = document.createElement("legend");
                legend.className = "question";
                legend.textContent = `${idx+1}. ${q.question}`;
                fieldset.appendChild(legend);
            
            
                const optionsDiv = document.createElement("div");
                optionsDiv.className = "options";
                q.options.forEach((opt, optIdx) => {
                    const optionId = `q${idx}_opt${optIdx}`;
                    const label = document.createElement("label");
                    label.setAttribute("for",optionId);
                    label.textContent = opt;

                    const radio = document.createElement("input");
                    radio.type = "radio";
                    radio.name = `q${idx}`;
                    radio.id = optionId;
                    radio.value = optIdx;

                    label.prepend(radio);
                    optionsDiv.appendChild(label);

            });
            fieldset.appendChild(optionsDiv);
            QuizForm.appendChild(fieldset);
        });

        const submitBtn = document.createElement("button");
        submitBtn.type = "button";
        submitBtn.textContent = "Submit";
        QuizForm.appendChild(submitBtn);

        submitBtn.addEventListener("click",() =>{
            //const selected = QuizForm[`q${idx}`].value;
            //score = 0; // Reset the score on each submit
            //QuizData.forEach((q, idx) => {
                //if (selected !== undefined && parseInt(selected, 10) === q.correct) {
                    //score ++;
                //}
            //});
            score = 0;
            QuizData.forEach((q, idx) => {
                const answer = document.querySelector(
                    `input[name="q${idx}"]:checked`
                );
                if (answer && Number(answer.value) === q.correct){
                    score++
                } 
            })
            resultEl.textContent = `You scored ${score} out of ${QuizData.length}`; // Display the score
        });
        
            
        </script>
        <br>
        <a class="bq-btn" href="Homepage.html">Back to Home</a>
    </body>
</html>